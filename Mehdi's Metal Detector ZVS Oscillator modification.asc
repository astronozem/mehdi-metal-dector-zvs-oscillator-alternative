Version 4
SHEET 1 4776 1844
WIRE 3200 64 3136 64
WIRE 3312 64 3280 64
WIRE 3456 64 3312 64
WIRE 3696 64 3552 64
WIRE 3856 64 3696 64
WIRE 4080 64 3936 64
WIRE 1456 80 1392 80
WIRE 1568 80 1536 80
WIRE 1712 80 1568 80
WIRE 1952 80 1808 80
WIRE 2112 80 1952 80
WIRE 2304 80 2192 80
WIRE 3696 128 3696 64
WIRE 1952 144 1952 80
WIRE 3312 192 3312 64
WIRE 1568 208 1568 80
WIRE 3136 256 3136 64
WIRE 3264 256 3136 256
WIRE 3504 256 3504 128
WIRE 3504 256 3360 256
WIRE 3696 256 3696 192
WIRE 1392 272 1392 80
WIRE 1520 272 1392 272
WIRE 1760 272 1760 144
WIRE 1760 272 1616 272
WIRE 1952 272 1952 208
WIRE 3904 272 3808 272
WIRE 4080 272 4080 64
WIRE 4080 272 3984 272
WIRE 4208 272 4080 272
WIRE 4368 272 4288 272
WIRE 2160 288 2064 288
WIRE 2304 288 2304 80
WIRE 2304 288 2240 288
WIRE 2368 288 2304 288
WIRE 2528 288 2448 288
WIRE 3504 320 3504 256
WIRE 1760 336 1760 272
WIRE 3808 416 3808 272
WIRE 4048 416 3808 416
WIRE 4368 416 4368 272
WIRE 4368 416 4112 416
WIRE 2064 432 2064 288
WIRE 2272 432 2064 432
WIRE 2528 432 2528 288
WIRE 2528 432 2336 432
WIRE 3504 432 3504 400
WIRE 1760 448 1760 416
WIRE 3136 512 3136 256
WIRE 3280 512 3136 512
WIRE 3968 512 3280 512
WIRE 4240 512 3968 512
WIRE 1392 528 1392 272
WIRE 1520 528 1392 528
WIRE 2224 528 1520 528
WIRE 2400 528 2224 528
WIRE 3968 560 3968 512
WIRE 4240 560 4240 512
WIRE 2224 576 2224 528
WIRE 2400 576 2400 528
WIRE 3808 688 3808 416
WIRE 3840 688 3808 688
WIRE 3968 688 3968 640
WIRE 3968 688 3904 688
WIRE 4064 688 3968 688
WIRE 4240 688 4240 640
WIRE 4240 688 4144 688
WIRE 4272 688 4240 688
WIRE 4368 688 4368 416
WIRE 4368 688 4336 688
WIRE 2064 704 2064 432
WIRE 2096 704 2064 704
WIRE 2224 704 2224 656
WIRE 2224 704 2160 704
WIRE 2400 704 2400 656
WIRE 2432 704 2400 704
WIRE 2528 704 2528 432
WIRE 2528 704 2496 704
WIRE 3136 736 3136 512
WIRE 3280 736 3280 512
WIRE 1392 752 1392 528
WIRE 1520 752 1520 528
WIRE 3808 768 3808 688
WIRE 4368 768 4368 688
WIRE 2064 784 2064 704
WIRE 2528 784 2528 704
WIRE 3968 848 4240 688
WIRE 3968 848 3856 848
WIRE 4240 848 3968 688
WIRE 4320 848 4240 848
WIRE 2224 864 2400 704
WIRE 2224 864 2112 864
WIRE 2400 864 2224 704
WIRE 2480 864 2400 864
WIRE 3136 864 3136 816
WIRE 3280 864 3280 800
WIRE 1392 880 1392 832
WIRE 1520 880 1520 816
FLAG 3504 432 0
FLAG 3136 864 0
FLAG 3696 256 0
FLAG 3280 864 0
FLAG 3808 864 0
FLAG 4368 864 0
FLAG 1760 448 0
FLAG 1392 880 0
FLAG 1952 272 0
FLAG 1520 880 0
FLAG 2064 880 0
FLAG 2528 880 0
SYMBOL res 3296 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value .8
SYMBOL pnp 3552 128 M270
SYMATTR InstName Q1
SYMATTR Value D45H11
SYMBOL pnp 3360 192 R90
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res 3488 304 R0
SYMATTR InstName R2
SYMATTR Value 2k2
SYMBOL voltage 3136 720 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 120 Left 2
SYMATTR SpiceLine Rser=.75
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL cap 3680 128 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap 3264 736 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL ind2 3888 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -19 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 115µ
SYMATTR Type ind
SYMATTR SpiceLine Rser={Rcoil}
SYMBOL ind2 4192 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -19 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 115µ
SYMATTR Type ind
SYMATTR SpiceLine Rser={Rcoil}
SYMBOL cap 4112 400 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 171n
SYMBOL ind2 4048 704 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
WINDOW 39 -20 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 115µ
SYMATTR Type ind
SYMATTR SpiceLine Rser={Rcoil}
SYMBOL ind 3840 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -19 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMATTR SpiceLine Rser=.1
SYMBOL res 1552 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value .8
SYMBOL pnp 1808 144 M270
SYMATTR InstName Q3
SYMATTR Value D45H11
SYMBOL pnp 1616 208 R90
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL res 1744 320 R0
SYMATTR InstName R5
SYMATTR Value 2k2
SYMBOL voltage 1392 736 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 120 Left 2
SYMATTR SpiceLine Rser=.75
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL cap 1936 144 R0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL cap 1504 752 R0
SYMATTR InstName C5
SYMATTR Value 100µ
SYMBOL ind2 2144 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -19 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 115µ
SYMATTR Type ind
SYMATTR SpiceLine Rser={Rcoil}
SYMBOL ind2 2352 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -19 56 VBottom 2
SYMATTR InstName L6
SYMATTR Value 115µ
SYMATTR Type ind
SYMATTR SpiceLine Rser={Rcoil}
SYMBOL schottky 2160 688 R90
WINDOW 0 -4 32 VBottom 2
WINDOW 3 36 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N5819
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL schottky 2432 720 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N5819
SYMATTR Description Zener Diode
SYMATTR Type zener
SYMBOL nmos 2112 784 M0
SYMATTR InstName M4
SYMATTR Value IRFZ48N
SYMBOL cap 2336 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 171n
SYMBOL ind2 2096 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -19 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 100µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=.05
SYMBOL nmos 2480 784 R0
SYMATTR InstName M3
SYMATTR Value IRFZ48N
SYMBOL nmos 3856 768 M0
SYMATTR InstName M1
SYMATTR Value IRFZ48N
SYMBOL nmos 4320 768 R0
SYMATTR InstName M2
SYMATTR Value IRFZ48N
SYMBOL res 3952 544 R0
SYMATTR InstName R7
SYMATTR Value 2k2
SYMBOL res 4224 544 R0
SYMATTR InstName R6
SYMATTR Value 2k2
SYMBOL diode 4272 704 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 3904 672 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 2208 560 R0
SYMATTR InstName R8
SYMATTR Value 150
SYMBOL res 2384 560 R0
SYMATTR InstName R10
SYMATTR Value 150
TEXT 3992 344 Left 2 !K1 L2 L3 L4 0.98
TEXT 384 48 Left 2 !.tran 0 10m
TEXT 2248 368 Left 2 !K L5 L6 0.98
TEXT 376 72 Left 2 !.options numdgt 7
TEXT 376 128 Left 2 !.param Rcoil=0.75
TEXT 392 -120 Left 4 ;Mehdi's Metal Detector ZVS Oscillator\nAn attempt at removing the two gate resistors from a ZVS circuit.\nastronozem 2023
TEXT 2328 96 Left 2 ;Two resistor version.\nNote: in the video the capacitor in the LLC tank is labeled microfarad, \nbut for the 25 kHz mentioned, this needs to be nanofarad.
TEXT 1520 856 Left 2 ;The Rser=0.75 is limiting the power supply to 16 A
TEXT 1880 -56 Left 2 ;This capacitor after the current regulator can cause oscillations between the load and the capacitor, \nbut it can also limit the bandwidth. Decrease if oscillations on the output occur when the oscillator fires, \nincrease to limit high frequency content on the output. \nFind the spot where the output voltage is the highest and the most stable.
TEXT 376 104 Left 2 ;Set double precision by mentioning .OPTIONS NUMDGT >6
TEXT 376 160 Left 2 ;For a wire size of 0.25 mm the coil would have 0.5 ohm resistance, on a 100 mm former, 22 turn, 115uH.  \n(According to Coil64) \nI set this to 0.75 to add PCB and connection losses.
TEXT 4112 96 Left 2 ;The coil version. It seems to oscillate with just one bias resistor, \nbut then the gate voltage is highly asymmetrical. \nWith two resistors, the gate does nor go negative much.
TEXT 3832 368 Left 2 ;The LTspice K<nnn> directive specifies the magnetic coupling between inductors,\nso the the coils are coupled.
TEXT 376 248 Left 4 ;Picked an IRFZ48N instead of the IRFZ24N!
